<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#1a1a1a">
  <title>Code Transparency Â· derlocke.net</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ–¥ï¸</text></svg>">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="background-layer"></div>
  
  <nav class="taskbar">
    <div class="logo">
      <a href="index.html">
        <span class="prompt-arrow">â¯</span><span class="prompt-cmd">cd</span> <span class="prompt-path">/var/home/derlocke</span> <span class="cursor-blink">â–ˆ</span>
      </a>
    </div>
    <div class="menu-container">
      <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>
      <div class="menu-dropdown">
        <ul class="menu">
<li><a href="index.html">Home</a></li>
<li><a href="archive.html">Archive</a></li>
<li><a href="./services.html">Services</a></li>
<li><a href="./transparency.html">Transparency</a></li>

        </ul>
        <div class="theme-controls">
          <div class="theme-row">
            <span class="theme-label">Theme</span>
            <button id="darkModeToggle" class="dark-mode-toggle" title="Toggle dark/light mode">ğŸŒ™</button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div class="main-wrapper">
    <main>
      <section class="blogentry transparency-page">
        <h1>ğŸ” Code Transparency</h1>
        
        <div class="transparency-intro">
          <p>
            <strong>Trust, but verify.</strong> This page provides cryptographic proof that the code 
            running on this server matches the source code published on GitHub. You don't have to 
            trust us â€” you can verify it yourself.
          </p>
        </div>

        <div class="transparency-status" id="transparencyStatus">
          <div class="status-loading">
            <span class="loading-spinner">âŸ³</span> Loading deployment information...
          </div>
        </div>

        <h2>ğŸ“‹ Current Deployment</h2>
        <div class="deployment-info" id="deploymentInfo">
          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">Git Commit</span>
              <span class="info-value" id="gitCommit">Loading...</span>
            </div>
            <div class="info-item">
              <span class="info-label">Branch</span>
              <span class="info-value" id="gitBranch">Loading...</span>
            </div>
            <div class="info-item">
              <span class="info-label">Build Time</span>
              <span class="info-value" id="buildTime">Loading...</span>
            </div>
            <div class="info-item">
              <span class="info-label">GPG Signed</span>
              <span class="info-value" id="gpgStatus">Checking...</span>
            </div>
          </div>
          <div class="source-links">
            <a href="#" id="githubLink" class="btn-verify" target="_blank">ğŸ“‚ View Source on GitHub</a>
            <a href="transparency/manifest.json" class="btn-verify" target="_blank">ğŸ“„ View Manifest</a>
            <a href="transparency/verify.sh" class="btn-verify" download>â¬‡ï¸ Download Verifier</a>
          </div>
        </div>

        <h2>ğŸ” File Verification</h2>
        <p>The following files are deployed with their SHA256 hashes. You can verify each one matches the source.</p>
        
        <div class="file-list" id="fileList">
          <div class="status-loading">
            <span class="loading-spinner">âŸ³</span> Loading file manifest...
          </div>
        </div>

        <h2>ğŸ›¡ï¸ How to Verify</h2>
        <div class="verify-instructions">
          <h3>Option 1: Quick Verification (requires curl, jq)</h3>
          <pre><code>curl -sL https://derlocke.net/transparency/verify.sh | bash</code></pre>
          
          <h3>Option 2: Manual Verification</h3>
          <ol>
            <li>Download the <a href="transparency/manifest.json">manifest.json</a></li>
            <li>Compare the git commit hash with the <a href="#" id="githubCommitLink" target="_blank">GitHub repository</a></li>
            <li>For any file, compute its SHA256 hash and compare:
              <pre><code>curl -sL https://derlocke.net/style.css | sha256sum</code></pre>
            </li>
            <li>If GPG-signed, verify the signature:
              <pre><code>gpg --verify manifest.sig manifest.json</code></pre>
            </li>
          </ol>

          <h3>Option 3: Full Source Comparison</h3>
          <pre><code># Clone the repo at the deployed commit
git clone https://github.com/derlocke-ng/derlocke-blog
cd derlocke-blog
git checkout <span id="commitForClone">COMMIT_HASH</span>

# Build locally and compare
./build.sh
sha256sum *.html *.css *.js</code></pre>
        </div>

        <h2>ğŸ¤” Why This Matters</h2>
        <div class="why-matters">
          <p>
            Traditional web services require you to trust the operator. With code transparency:
          </p>
          <ul>
            <li><strong>Verifiable deployments</strong> â€” Know exactly what code is running</li>
            <li><strong>Tamper detection</strong> â€” Any unauthorized changes are detectable</li>
            <li><strong>Audit trail</strong> â€” Every deployment is linked to a git commit</li>
            <li><strong>Open source proof</strong> â€” Not just open source, but verifiably deployed</li>
          </ul>
          <p>
            This is especially important for services that handle sensitive data. While this blog 
            itself is static, the <a href="services.html">services</a> I host follow the same 
            transparency principles.
          </p>
        </div>

        <h2>ğŸ”‘ GPG Public Key</h2>
        <div class="gpg-key">
          <p>Manifests may be signed with the following GPG key:</p>
          <pre><code id="gpgKey">Key not yet configured. Check back soon!</code></pre>
          <p>
            <a href="#" class="btn-verify" id="keyserverLink">ğŸ” Lookup on Keyserver</a>
          </p>
        </div>
      </section>
    </main>
  </div>

  <div class="service-dock">
    <div class="dock-content">
      <span class="dock-label">Services:</span>
      <a href="services.html#vpn" class="dock-item" title="VPN Access">ğŸ” VPN</a>
      <a href="services.html#xmpp" class="dock-item" title="XMPP Chat">ğŸ’¬ XMPP</a>
      <a href="services.html#paste" class="dock-item" title="PrivateBin">ğŸ“‹ Paste</a>
      <a href="services.html#mumble" class="dock-item" title="Mumble Voice">ğŸ™ï¸ Mumble</a>
      <a href="services.html#git" class="dock-item" title="Git Repos">ğŸ“¦ Git</a>
    </div>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-links">
<a href="index.html">Home</a> | <a href="archive.html">Archive</a> | <a href="./services.html">Services</a> | <a href="./transparency.html">Transparency</a>
      </div>
      <div class="footer-info">
        <span>Â© 2026 derlocke.net Â· <a href="mailto:derlocke@derlocke.net">Contact</a> Â· Powered by <a href="https://github.com/derlocke-ng/kiwi-blog" target="_blank">ğŸ¥ Kiwi Blog</a></span>
      </div>
    </div>
  </footer>

  <script src="theme.js"></script>
  <script src="transparency.js"></script>
</body>
</html>
